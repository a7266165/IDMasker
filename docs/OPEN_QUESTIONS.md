# IDMasker - 待確認事項清單

> 實作前需要逐一確認的設計決策。

---

## Q1. 分隔符號是什麼？ -- 已確認

分隔符號為 `_` 底線。

原始資料夾格式: `12345678_202602060821`

## Q2. 是否需要還原（解密）功能？ -- 已確認

**需要。** 由軟體使用者輸入密碼進行還原，不需要額外的 mapping 對照表。
加密方式本身必須可逆（有密碼即可還原）。

## Q3. 資料夾名稱結構釐清 -- 已確認

原始格式: `XXXXXXXX_YYYYMMDDHHMI`
- 前 8 碼: 需去識別化的編號（**加密目標**）
- 後 12 碼: 日期時間（年月日時分），**不加密，保留原樣**

轉換後格式: `YYYYMMDDHHMI_<加密後的8碼>`
- 日期時間移到前面
- 加密後的編號放後面

範例:
```
加密前: 12345678_202602060821
加密後: 202602060821_a3f2b8c1d4e5f6a7b8c9d0e1f2a3b4c5
```

## Q4. 批次處理 -- 已確認

**是。** 指定一個父資料夾，自動處理底下所有符合格式的子資料夾。

## Q5. 操作介面 -- 已確認

**簡易 GUI**（使用 tkinter）。

## Q6. 加密範圍 -- 已確認

**只加密前 8 碼編號。** 後 12 碼日期時間保留不動。

## Q7. 碰撞處理 -- 已確認

### 碰撞機率分析（8 hex 字元 = 32 bits 時）

| 資料夾數量 | 碰撞機率 |
|-----------|---------|
| 100 | 約 0.0001% |
| 1,000 | 約 0.012% |
| 10,000 | 約 1.2% |
| 100,000 | 約 69% |

### 決定

暫定使用 **AES 完整輸出**（32 hex 字元），因此碰撞機率為零（AES 為一對一映射）。

> **備註**: 此決定待與最終使用者釐清後可能調整。
> FPE（格式保留加密）為備選方案 — 可將 8 碼數字加密為 8 碼數字，同樣零碰撞且可逆。

## Q8. 密碼強度要求 -- 已確認

**不限制密碼格式**，但介面需要有「重複輸入密碼」的確認功能。

---

## 確認紀錄

| 項目 | 確認日期 | 決定 |
|------|----------|------|
| Q1 | 2026-02-06 | 分隔符為 `_` 底線 |
| Q2 | 2026-02-06 | 需要還原功能，由使用者用密碼解密，不需 mapping |
| Q3 | 2026-02-06 | 前8碼是ID（加密），後12碼是日期時間（保留） |
| Q4 | 2026-02-06 | 需要批次處理 |
| Q5 | 2026-02-06 | 簡易 GUI（tkinter） |
| Q6 | 2026-02-06 | 只加密前 8 碼 |
| Q7 | 2026-02-06 | 暫定 AES 完整輸出（零碰撞），待與使用者釐清 |
| Q8 | 2026-02-06 | 不限密碼格式，需重複輸入確認 |

---

## 仍需釐清的項目

- [ ] **加密輸出長度**: AES 完整輸出（32 hex）vs FPE（8 碼數字），需與最終使用者確認資料夾名稱長度是否可接受
